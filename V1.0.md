# Billing ERP - Complete Application Analysis

## Purpose of the App

The **Billing ERP** is a professional SAAS-ready billing and invoicing system for "AMK Enterprise" to manage jobs (quotations, challans, bills), customers, inventory, and generate documents.

---

## What the App is Currently Doing

| Feature                                     | Status                 |
| ------------------------------------------- | ---------------------- |
| Dashboard with metrics                      | ✅ Working (mock data) |
| Jobs Management - Full CRUD                 | ✅ Working             |
| Customers - Full CRUD                       | ✅ Working             |
| Inventory - Full CRUD + CSV Import          | ✅ Working             |
| PDF Generation (Quotation/Bill/Challan)     | ✅ Working             |
| DOCX Document Export                        | ✅ Working             |
| Settings (Dark mode, invoice customization) | ✅ Working             |
| Responsive mobile-friendly UI               | ✅ Working             |

---

## What the App is NOT Doing

- **User Authentication** - No login system
- **Real Dashboard Stats** - Uses hardcoded mock data
- **Job Create/Edit Pages** - Routes exist but are empty placeholders
- **Topsheet Generation** - Button exists but not implemented
- **Bulk PDF Generation** - UI exists but not functional
- **Email Integration** - No PDF email sending
- **Users & Roles** - Link in sidebar but page doesn't exist

---

## Main Features

- Job workflow: QUOTATION → CHALLAN → BILL
- Size Noter with measurements (feet/inches calculations)
- CSV inventory import from upc_25.csv
- Multi-selection with bulk actions
- PDF/DOCX document generation with company branding

---

## Main Components

- [`DashboardLayout`](/src/components/layout/DashboardLayout.tsx) - Main layout wrapper
- [`Sidebar`](/src/components/layout/Sidebar.tsx) - Navigation menu
- [`JobForm`](/src/components/jobs/JobForm.tsx) - Job creation/editing form
- [`LineItemsTable`](/src/components/jobs/LineItemsTable.tsx) - Job line items
- [`SizeNoterModal`](/src/components/jobs/SizeNoterModal.tsx) - Size measurements

---

## Main Pages

- `/` - Dashboard
- `/jobs` - Jobs list
- `/jobs/[id]` - Job details
- `/customers` - Customer directory
- `/inventory` - SKU management
- `/reports` - Reports (mock data)
- `/settings` - Configuration

---

## Main Data Structures (Prisma Models)

- **Customer** - id, name, contactPerson, email, phone, addressLine1/2, vatNumber
- **Job** - id, refNumber, subject, status (QUOTATION/CHALLAN/BILL), customerId, financials
- **JobItem** - line items with quantity, unitPrice, measurements
- **Inventory** - sku, name, itemType (Supply/Service), pricing, stock
- **Measurement** - widthFeet, widthInches, heightFeet, heightInches, calculatedSqft
- **Settings** - key-value store

---

## Main APIs

- `GET/POST/PUT/DELETE /api/customers`
- `GET/POST/PUT/DELETE /api/inventory`
- `GET/POST/PUT/DELETE /api/jobs`
- `POST /api/documents/pdf`
- `POST /api/documents/docx`

---

## Main Libraries

- Next.js 14.2.3
- React 18
- Prisma 5.13.0 (MySQL ORM)
- @react-pdf/renderer 3.4.4 (installed but unused)
- xlsx 0.18.5 (Excel)
- Tailwind CSS 3.4.1
- lucide-react (icons)

---

## Main Issues

1. **No Authentication** - Critical security issue
2. **Mock Dashboard Data** - Not connected to real database
3. **Empty Job Create/Edit Pages** - Need implementation
4. **Unused PDF Library** - Using HTML generation instead
5. **Hardcoded Company Info** - "AMK Enterprise" in multiple files

---

## Main Improvements

1. Add user authentication and role-based access control
2. Implement real dashboard statistics from database
3. Complete job create/edit page functionality
4. Implement topsheet generation for reports
5. Persist settings to database instead of localStorage
6. Add email integration for sending documents
7. Create the missing users/roles page
